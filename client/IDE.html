<!DOCTYPE html>
<!-- Based on Bootstrap from Twitter ( http://twitter.github.com/bootstrap/ ) - thanks, guys! -->
<html lang="en">
<head>
	<meta charset="utf-8"/>
	<title>Galago IDE</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<meta name="description" content="{{description}}"/>
	<meta name="author" content="Outbreak, Inc."/>
	
	<link rel="stylesheet" type="text/css" href="/shared/css/bootstrap.min.css" media="screen"/>
	<link rel="stylesheet" type="text/css" href="/lib/yui/treeview.css"/>
	<link rel="stylesheet" type="text/css" href="/shared/css/outbreak.css" media="screen"/>
	<link rel="stylesheet" type="text/css" href="/IDE.css" media="screen"/>

	<script src="/lib/platform/require-jquery.js" type="application/javascript" charset="utf-8"></script>

	<script type="application/javascript" charset="utf-8">
		require(["./config"], function(config)
		{
			require(["app/IDE"]);
		});
	</script>
	
	<style type="text/css">
		body{ padding-top: 60px; padding-bottom: 40px;}
	</style>
	
	<!-- IE6-8 support-->
	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	
	<!-- start Mixpanel --><script type="text/javascript">(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f);b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==
	typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,
	e,d])};b.__SV=1.2}})(document,window.mixpanel||[]);
	mixpanel.init("ad6aed17421b68d8b4bdbb5f97aa6e65");</script><!-- end Mixpanel -->
	
	<link rel="icon" type="image/png" href="/images/outbreakFavicon.png"/>
</head>

<body>
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
		<div class="topbarContainer">
			<a class="btn" id="settingsButton" href="#" style="float:right">
				<img src="/lib/settings.png"></img>
			</a>
			<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
				<!-- http://files.softicons.com/download/system-icons/hadaikum-icons-by-tiny-lab/png/24x24/Settings.png -->
				<span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
			</a>
			<a class="brand" id="homeButton" href="/"><!-- <img class="outbreakIDELogo" src="/images/blank.gif"></img> -->GalagoIDE <em class="colorOrange">beta</em></a>
			<div class="nav-collapse">
				<ul id="projectList" class="nav">
				</ul>
			</div><!-- /.nav-collapse  -->
		</div>
		</div>
	</div>
	<div class="container">
		<div class="welcomeView">
			<div class="hero-unit">
				<h1>GalagoIDE <em class="colorOrange">beta</em></h1>
				<p class="lead">
					Create a new project or open an existing one
				</p>
				<p class="newProject">
					<button role="button" class="btn btn-large btn-primary newProjectBtn">Create a new project</button>
				</p>

				<div id="newProjectModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="newProjectHeader" aria-hidden="true">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
						<h3 id="newProjectHeader">Create a new project</h3>
					</div>
					<div class="modal-body">
						<p>Enter a project name:</p>
						<p>
							<input class="projectName" type="text" placeholder="New project name"></input>
							<span class="text-error error"></span>
						</p>
					</div>
					<div class="modal-footer">
						<button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
						<button class="btn btn-primary createProjectBtn">Create project</button>
					</div>
				</div>

				<div id="userSettingsModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="settingsHeader" aria-hidden="true">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
						<h3 id="settingsHeader">Settings</h3>
					</div>
					<div class="modal-body">
						<p>
							<input id="allowTrack" class="allowTrack" type="checkbox"></input>
							<span for="allowTrack">Allow sending anonymous usage statistics</span>
							<span class="text-error error"></span>
						</p>
					</div>
					<div class="modal-footer">
						<button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
						<button class="btn btn-primary saveBtn">Save Settings</button>
					</div>
				</div>

			</div>
			<div class="row">
				<div class="projectList">
				</div>
			</div>
		</div>
		<div class="editorView" hidden="hidden">
			<div class="documentView"></div>
			<div class="devView sidebar">
				<div class="optionsView">
					<div class="projectControls sidebarHeader">
						<button class="btn btn-small btn-primary buildButton">
							<span class="icon-check icon-white"></span> Build
						</button>
						<button class="btn btn-small btn-primary flashButton">
							<span class="icon-play icon-white"></span> Flash
						</button>
						<button class="btn btn-small btn-primary debugButton">
							<span class="icon-play icon-white"></span> Debug
						</button>
					</div>
					<div class="progressView sidebarHeader hide">
						<div class="progress progress-striped active">
							<div class="bar" style="width: 100%;"></div>
						</div>						
					</div>
					<div class="modulesView">
						<hr/>
						<div class="modulesHeader sidebarHeader">
							Modules
							<!-- <input class="settingsButton" type="button" value="+"></input> -->
							<!-- <button class="btn">+</button> -->
							<!-- <form class="form-search" style="display:inline-block; width:200px; margin-bottom:0px;">
								<input type="text" class="input-block-level search-query">
									
								</input>
							</form> -->
						</div>
						<div class="modulesList"></div>
					</div>
					<div class="settingsView">
						<hr/>
						<div class="settingsHeader sidebarHeader">
							Settings
						</div>
						<div class="settingsList"></div>
					</div>
					<div class="devicesView">
						<hr/>
						<div class="devicesHeader sidebarHeader">
							Devices
						</div>
					</div>
					<div class="errorsView">
						<hr/>
						<div class="errorsHeader sidebarHeader">
							Errors
						</div>
					</div>
				</div>
			</div>
			<div class="debugView sidebar hide">
				<div class="controls sidebarHeader">
					<button class="btn btn-small btn-primary continueButton">Continue</button>
					<button class="btn btn-small btn-primary pauseButton">Pause</button> 
					<button class="btn btn-small btn-primary stopButton">Stop</button>
					<button class="btn btn-small btn-primary disconnectButton">Disconnect</button>
				</div>
				<div class="varView yui-skin-sam">
					<h4>Variables</h4>
					<div id="varTree" class="varTree">
					</div>
				</div>
				<div class="callstackView">
					<h4>Stack</h4>
				</div>
			</div>
		</div>
	</div>
		<!-- <div class="headerView">
			<div class="navbutton"><a href="#">&laquo; &bull;</a></div>
			<div class="projecttitle">Demo project</div>
			<div class="runcontrols"><input id="verifyButton" type="button" value="Verify"></input><input id="runButton" type="button" value="Run"></input></div>
		</div> -->

	<script type="text/template" id="projectListTemplate">
		<a class="projectListItem"><%= name %></a>
	</script>

	<script type="text/template" id="errorItemTemplate">
		<div class="view">Line <%= line %>: <%= err %></div>
	</script>

	<script type="text/template" id="stackItemTemplate">
		<div class="view"><strong><%= name %></strong></div>
	</script>

	<script type="text/template" id="deviceItemTemplate">
		<div class="view"><%= productName %>: <%= serialNumber %> (port <%= gdbPort %>)</div>
	</script>
</body>
</html>